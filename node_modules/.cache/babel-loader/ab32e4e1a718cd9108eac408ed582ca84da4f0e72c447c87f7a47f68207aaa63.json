{"ast":null,"code":"import _slicedToArray from\"/home/runner/work/copilot-fundamentals-training/copilot-fundamentals-training/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./calculator.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var number1=0;var number2=0;var operator='';var result=0;var isNewNumber=false;function Calculator(){var _useState=useState('0'),_useState2=_slicedToArray(_useState,2),displayValue=_useState2[0],setDisplayValue=_useState2[1];var handleNumberClick=function handleNumberClick(number){var decimalRegex=/\\./;var hasDecmal=decimalRegex.test(displayValue);// true\n// check if displayValue contains a '.'\n// if it does, don't add another '.'\nif(hasDecmal&&number==='.'){return;}if(displayValue==='0'&&number!=='.'){setDisplayValue(number.toString());}else if(!isNewNumber){setDisplayValue(displayValue+number.toString());}else{setDisplayValue(number.toString());isNewNumber=false;}};var handleKeyClick=function handleKeyClick(char){var operatorRegex=/[\\+\\-\\*\\/\\%\\^]/;var isOperator=operatorRegex.test(char);// true\n// set the operator\nif(isOperator){operator=char;if(operator==='^'){setDisplayValue(number1*number1);isNewNumber=false;}else{number1=parseFloat(displayValue);isNewNumber=true;}return;}// calculate the result\nif(char==='='){number2=parseFloat(displayValue);// code to perform the calculator operations\n// round the result down to 2 decimal places\nresult=Math.round(result*100)/100;setDisplayValue(parseFloat(result).toString());isNewNumber=true;return;}// clear the calculator\nif(char==='C'){setDisplayValue('0');number1=0;number2=0;result=0;return;}if(isNewNumber){setDisplayValue(char);isNewNumber=false;}else{setDisplayValue(displayValue+char);}};return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"display\",className:\"calculator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"display\",children:displayValue}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(1);},children:\"1\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(2);},children:\"2\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(3);},children:\"3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('+');},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('/');},children:\"/\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(4);},children:\"4\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(5);},children:\"5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(6);},children:\"6\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('-');},children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('*');},children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(7);},children:\"7\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(8);},children:\"8\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(9);},children:\"9\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('%');},children:\"%\"}),/*#__PURE__*/_jsx(\"button\",{className:\"operator\",onClick:function onClick(){return handleKeyClick('^');},children:\"^2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick('.');},children:\".\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleNumberClick(0);},children:\"0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key\",onClick:function onClick(){return handleKeyClick('C');},children:\"C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"key, button-span-3\",onClick:function onClick(){return handleKeyClick('=');},children:\"=\"})]})]});}export default Calculator;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","number1","number2","operator","result","isNewNumber","Calculator","_useState","_useState2","_slicedToArray","displayValue","setDisplayValue","handleNumberClick","number","decimalRegex","hasDecmal","test","toString","handleKeyClick","char","operatorRegex","isOperator","parseFloat","Math","round","className","children","onClick"],"sources":["/home/runner/work/copilot-fundamentals-training/copilot-fundamentals-training/src/components/Calculator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './calculator.css';\n\nlet number1 = 0;\nlet number2 = 0;\nlet operator = '';\nlet result = 0;\nlet isNewNumber = false;\n\nfunction Calculator() {\n\n    const [displayValue, setDisplayValue] = useState('0');\n\n    const handleNumberClick = (number) => {\n        const decimalRegex = /\\./;\n        let hasDecmal = decimalRegex.test(displayValue); // true\n\n        // check if displayValue contains a '.'\n        // if it does, don't add another '.'\n        if (hasDecmal && number === '.') {\n            return;\n        }\n\n        if (displayValue === '0' && number !== '.') {\n            setDisplayValue(number.toString());\n        } else if (!isNewNumber) {\n            setDisplayValue(displayValue + number.toString());\n        } else {\n            setDisplayValue(number.toString());\n            isNewNumber = false;\n        }\n    };\n\n    const handleKeyClick = (char) => {\n        const operatorRegex = /[\\+\\-\\*\\/\\%\\^]/;\n        const isOperator = operatorRegex.test(char); // true\n\n        // set the operator\n        if (isOperator) {\n            operator = char;\n            if (operator === '^') {\n                setDisplayValue(number1 * number1);\n                isNewNumber = false;\n            } else {\n                number1 = parseFloat(displayValue);\n                isNewNumber = true;\n            }\n            return\n        }\n\n        // calculate the result\n        if (char === '=') {\n            number2 = parseFloat(displayValue);\n\n            // code to perform the calculator operations\n\n            // round the result down to 2 decimal places\n            result = Math.round(result * 100) / 100;\n            setDisplayValue(parseFloat(result).toString());\n            isNewNumber = true;\n            return\n        }\n\n        // clear the calculator\n        if (char === 'C') {\n            setDisplayValue('0');\n            number1 = 0;\n            number2 = 0;\n            result = 0;\n            return;\n        }\n\n        if (isNewNumber) {\n            setDisplayValue(char);\n            isNewNumber = false;\n        } else {\n            setDisplayValue(displayValue + char);\n        }\n    };\n\n    return (\n        <div data-testid=\"display\" className=\"calculator\">\n            <div  className=\"display\">\n                {displayValue}\n            </div>\n            <div>\n                <button className=\"key\" onClick={() => handleNumberClick(1)}>1</button>\n                <button className=\"key\" onClick={() => handleNumberClick(2)}>2</button>\n                <button className=\"key\" onClick={() => handleNumberClick(3)}>3</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('+')}>+</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('/')}>/</button>\n            </div>\n            <div>\n                <button className=\"key\" onClick={() => handleNumberClick(4)}>4</button>\n                <button className=\"key\" onClick={() => handleNumberClick(5)}>5</button>\n                <button className=\"key\" onClick={() => handleNumberClick(6)}>6</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('-')}>-</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('*')}>*</button>\n            </div>\n            <div>\n                <button className=\"key\" onClick={() => handleNumberClick(7)}>7</button>\n                <button className=\"key\" onClick={() => handleNumberClick(8)}>8</button>\n                <button className=\"key\" onClick={() => handleNumberClick(9)}>9</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('%')}>%</button>\n                <button className=\"operator\" onClick={() => handleKeyClick('^')}>^2</button>\n            </div>\n            <div>\n                <button className=\"key\" onClick={() => handleNumberClick('.')}>.</button>\n                <button className=\"key\" onClick={() => handleNumberClick(0)}>0</button>\n                <button className=\"key\" onClick={() => handleKeyClick('C')}>C</button>\n                <button className=\"key, button-span-3\" onClick={() => handleKeyClick('=')}>=</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Calculator;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}